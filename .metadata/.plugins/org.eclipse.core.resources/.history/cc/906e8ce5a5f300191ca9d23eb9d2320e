package br.sp.edimilsonestevam.service;

import static io.restassured.RestAssured.given;
import static org.hamcrest.Matchers.is;

import br.sp.edimilsonestevam.core.Base;

public class Usuario extends Base{

	private static Integer CONTA_ID;
	private static String CONTA_NAME = "Conta";
	
	public void CriarUsuaio() {
		
		CONTA_ID = given()
						.body("email": "edimilsonestevam@hotmail.com", "password": "teste123", "password_confirmation": "teste123")
				   .when()
				   		.post("/users")
				   .then()
				   		.log().all()
				   		.statusCode(201)
				   ;
		CONTA_ID = given()
				.body("{\"nome\": \""+CONTA_NAME+"\"}")//Usando a variável CONTA_NAME
		  .when()
		  		.post("/contas")
		  .then()
		        .log().all()
		  		.statusCode(201)//Status de inclusao
		  		.extract().path("id")//Extrai o código de identificacao da conta criada
		  ;
	}
}
