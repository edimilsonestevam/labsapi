package br.sp.edimilsonestevam.page;

import org.junit.Assert;
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;

import br.sp.edimilsonestevam.setup.Base;

public class Conta extends Base{

	public Conta(WebDriver navegador) {
		super(navegador);
	
	}

	public void CadastrarNovoUsuario(String nome, String sobrenome, String email, String endereco, String universidade, String profissao, String genero, String idade) {
		
		System.out.println("• Realizando Cadastro...");
		
		String idNome = "user_name";
		String idSobrenome = "user_lastname";
		String idEmail = "user_email";
		String idEndereco = "user_address";
		String idUniversidade = "user_university";
		String idProfissao = "user_profile";
		String idGenero = "user_gender";
		String idIdade = "user_age";

	
		navegador.findElement(By.id(idNome)).sendKeys(nome);
		navegador.findElement(By.id(idSobrenome)).sendKeys(sobrenome);
		navegador.findElement(By.id(idEmail)).sendKeys(email);
		navegador.findElement(By.id(idEndereco)).sendKeys(endereco);
		navegador.findElement(By.id(idUniversidade)).sendKeys(universidade);
		navegador.findElement(By.id(idProfissao)).sendKeys(profissao);
		navegador.findElement(By.id(idGenero)).sendKeys(genero);
		navegador.findElement(By.id(idIdade)).sendKeys(idade);

	}
	
	public void ConfirmarOperacao() {
		
		System.out.println("• Confirmando Cadastro...");
		
		String xPathBotaoCriar = "//input[@name='commit']";
		
		navegador.findElement(By.xpath(xPathBotaoCriar)).click();
		
	}
	
	public void CancelarCadastro() {
		
		System.out.println("• Cancelando Cadastro...");
		
		String xPathBotaoCriar = "//a[@class='btn waves-light red']";
		
		navegador.findElement(By.xpath(xPathBotaoCriar)).click();
		
	}
	
	public void ValidarPaginaCorrente(String urlEsperada) {
		
		System.out.println("• Validando Página Corrente...");

		String urlAtual = (String) navegador.getCurrentUrl();
		Assert.assertEquals("Validando Página Atual", urlEsperada, urlAtual);
		
	}
	
	public void ValidarMensagemUsuarioCriado(String mensagemEsperada) {
		
		System.out.println("• Validando Mensagem Usuário Criado...");
		
		String xPathMensagemUsuarioCriado = "//p[@id='notice']";
		String mensagemAtual = navegador.findElement(By.xpath(xPathMensagemUsuarioCriado)).getText();
		
		Assert.assertEquals("Validando Mensagem Usuário Criado", mensagemEsperada, mensagemAtual);
		
	}
}
